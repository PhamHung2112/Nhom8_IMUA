
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="signup">
    <div class="container">
        <div class="signup-content">
            <div class="signup-form" style="justify-content: center; align-items: center; display: flex; flex-direction: column">
                <h2 class="form-title" style="margin-left: 0;">Đổi mật khẩu</h2>
                <div class="form-group" style="width: 40%">
                    @Html.ValidationMessage("", new { @id = "form-message" })
                </div>
                @using (Html.BeginForm("ChangePassword", "User", FormMethod.Post, new { @class = "register-form", @id = "register-form", enctype = "multipart/form-data", onsubmit = "return checkPass();", style = "display: flex; justify-content: center;" }))
                {

                    <div class="wrapper" style="margin-right: 0">
                        <div class="form-group">
                            <div class="form-input">
                                <label for="name"><i class="zmdi zmdi-account material-icons-name"></i></label>
                                <input type="text" name="oldpass" value="" id="oldpass" placeholder="Mật khẩu cũ" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-input">
                                <label for="email"><i class="zmdi zmdi-email"></i></label>
                                <input type="text" name="newpass" value="" id="newpass" placeholder="Mật khẩu mới" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-input">
                                <label for="re-pass"><i class="zmdi zmdi-phone"></i></label>
                                <input type="text" name="confirm" value="" id="confirm" placeholder="Xác nhận mật khẩu" />
                            </div>
                        </div>
                        <div class="form-group form-button">
                            <input type="submit" name="signup" id="signup" class="form-submit" value="Đăng ký" />
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</section>

@if (ViewBag.Success != null)
{
    Response.Write("<script>alert('Đổi mật khẩu thành công')</script>");

}

<script>
    function checkPass() {
        var oldpass = document.getElementById("oldpass");
        var newpass = document.getElementById("newpass");
        var confirm = document.getElementById("confirm");
        var message = document.getElementById("form-message");
        if (oldpass.value == "") {
            message.style.display = "inline-block";
            message.innerText = "Mật khẩu cũ không được để trống";
            return false;
        }
        else if (newpass.value == "") {
            message.style.display = "inline-block";
            message.innerText = "Mật khẩu mới không được để trống";
            return false;
        }
        else if (newpass.value == oldpass.value) {
            message.style.display = "inline-block";
            message.innerText = "Mật khẩu mới không được trùng với mật khẩu cũ";
            return false;
        }
        else if (newpass.value != "" && confirm.value != newpass.value) {
            message.style.display = "inline-block";
            message.innerText = "Xác nhận mật khẩu không đúng";
            return false;
        }
        return true;
    }

</script>