@model List<Nhom8_IMUA.Models.GioHang>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="cart__detail">
    <div class="container">
        <div class="detail__path">
            <a href="">
                Trang chủ
            </a>
            <span>Giỏ hàng</span>
        </div>
        @if (Model != null)
        {
    <div class="cart__item">
        <p class="cart__qty">Giỏ hàng có: <span>@Model.Count sản phẩm</span></p>
        <p class="cart__total">Tổng tiền: <span>@string.Format("{0:c0}", @Model.Sum(x => (x.Product.Gia - x.Product.Gia * x.Product.KhuyenMai / 100) * x.Quantity) + 10000)</span></p>
        <table cellspacing="4" cellpadding="4" class="cart__table">
            <thead>
                <tr>
                    <th>Hình ảnh</th>
                    <th>Sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <a href="">
                                <img src="~/assets/Images/SanPham/@item.Product.AnhDaiDien" alt="">
                            </a>
                        </td>
                        <td>
                            <a class="cart__link" href="">Son Dưỡng Môi có màu Ecosy Nature Tint Stick The Collagen</a>
                            <div class="product__price">
                                <ins>@string.Format("{0:c0}", item.Product.Gia - item.Product.Gia * item.Product.KhuyenMai / 100)</ins>
                                <del>@string.Format("{0:c0}", item.Product.Gia)</del>
                            </div>
                        </td>
                        <td>
                            <input type="text" name="" data-id="@item.Product.MaSP" value="@item.Quantity" class="qty">
                        </td>
                        <td>
                            <p>@string.Format("{0:c0}", (item.Product.Gia - item.Product.Gia * item.Product.KhuyenMai / 100) * item.Quantity)</p>
                            <a href="" data-id="@item.Product.MaSP" class="del">Xóa</a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
        <div class="cart__infor">
            <p>Tạm tính: <span>@string.Format("{0:c0}", @Model.Sum(x => (x.Product.Gia - x.Product.Gia * x.Product.KhuyenMai / 100) * x.Quantity))</span></p>
        </div>
        <div class="cart__infor">
            <p>Phí vận chuyển: <span>10.000đ</span></p>
        </div>
        <div class="cart__infor">
            <p>Tổng tiền thanh toán: <span>@string.Format("{0:c0}", @Model.Sum(x => (x.Product.Gia - x.Product.Gia * x.Product.KhuyenMai / 100) * x.Quantity) + 10000)</span></p>
        </div>
        <div class="cart__button">
            <div class="ship-code">
                <input type="checkbox" name="" id="" disabled checked>
                <span>Phương thức thanh toán: NHẬN HÀNG VÀ THANH TOÁN TẠI NHÀ !</span>
            </div>
            <a href="">Hoàn tất đơn hàng</a>
        </div>
    </div>
        }
        else
        {
            <span style="font-size: 1.6rem; font-weight: 700; color: red" class="alert">Không có sản phẩm trong giỏ hàng</span>
        }
    </div>
</div>

<script src="~/assets/js/controller/UpdateCart.js"></script>
<script src="~/assets/js/controller/DeleleteCart.js"></script>